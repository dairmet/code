# Store App â€” Design Document

## Goal
A lightweight, static storefront web app for browsing and selling records from the Discogs **For Sale** folder.
Target audience: potential buyers (friends, locals, online shoppers).
No Discogs links are shown.

The app reuses data and images generated by the existing **offline_gallery** app to minimize API calls and rebuild time.

---

## Inputs & Reuse

### Source Data (from offline_gallery)
- records.csv
  - folder
  - release_id
  - artist
  - title
  - year
  - country
  - label
  - catno
  - img (relative path using hashed filename)
- images/
  - cover images using the established hash naming scheme

### Store Overrides (new)
store_overrides.csv (keyed by release_id)
- release_id
- price
- status (available | pending | sold | hold)
- condition (default: "Not yet inspected")
- sleeve_condition (optional)
- notes (optional)
- genre_override (optional)
- decade_override (optional)

Missing rows fall back to defaults.

---

## Data Pipeline

Build script (store.py):
1. Load offline_gallery/records.csv
2. Filter records where folder == "For Sale"
3. Merge store_overrides.csv
4. Derive decade, display_label, search_blob
5. Output store_inventory.json

---

## UI / UX

### Header (Sticky)
- Store title + description
- Search (artist + title)
- Filters: Artist, Genre, Decade
- Toggle: Hide pending/sold
- Cart button

### Record Listing
- Cover image
- Artist
- Title
- Genre
- Year
- Label + Cat #
- Condition
- Price
- Status badge
- Add-to-cart

---

## Cart & Checkout

- LocalStorage-based cart
- Copy cart summary
- Email cart via mailto

---

## Hosting
Static hosting (GitHub Pages recommended)

---

## Project Structure

records/
  offline_gallery/
  store/
    store.py
    run_store.bat
    site/

---

## Phases
Phase 1: MVP browsing + cart
Phase 2: Discounts, new arrivals, box location notes
